<!DOCTYPE html>
<html lang="en"><meta charset="utf-8"><meta name="generator" content="Hugo 0.62.2" /><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
<meta name="color-scheme" content="light dark">
<meta name="supported-color-schemes" content="light dark">
<script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? "https://" : "http://");document.write(unescape("%3Cspan style='display:none;' id='cnzz_stat_icon_1278593076'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s4.cnzz.com/z_stat.php%3Fid%3D1278593076%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));</script>

<script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.11"></script>

<script async src="https://kit.fontawesome.com/8cc90f575c.js" crossorigin="anonymous"></script>
<script async>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script><title>宅宅生活收藏夹——项目心得&nbsp;&ndash;&nbsp;简讯</title><link rel="stylesheet" href="/css/core.min.b82f914f060e48379e318a4f75e484281a018ae6a0b8b7f97cd5329512117eecf7e51b8c996b8dfb27cf023da8a2e4c8.css" integrity="sha384-uC&#43;RTwYOSDeeMYpPdeSEKBoBiuaguLf5fNUylRIRfuz35RuMmWuN&#43;yfPAj2oouTI"><body>
    <div class="base-body"><section id="header" class="site header max-body-width">
    <div class="header wrap"><span class="header left-side"><a class="site home" href="/"><span class="site name" style="font-size: 24px;">简讯</span></a></span>
        <span class="header right-side"><div class="nav wrap">
    <nav class="nav"><a class="nav item" href="/categories/">
            <i class="fas fa-align-left"></i>&nbsp;分类
        </a><a class="nav item" href="/tags/">
            <i class="fas fa-tags"></i>&nbsp;标签
        </a><a class="nav item" href="/projects">
            
            
            <i class="fas fa-cubes"></i>&nbsp;个人项目</a><a class="nav item" href="/about">
            
            
            <i class="fas fa-feather-alt"></i>&nbsp;关于</a></nav>
</div></span></div>
        <div class="site slogan"><span class="title"></span></div></section>

<script>
    
    var typed = new Typed('.title', {
      strings: ["唯书与爱，不可辜负", "岁月无婷无华"],
      smartBackspace: true,
      typeSpeed: 95,
      backSpeed: 35
    });
</script><div id="content" class="max-body-width"><section class="article header">
    <h1 class="article title">宅宅生活收藏夹——项目心得</h1><p class="article date">Saturday, July 13, 2019<span class="reading-time"> • 8 minutes to read</span></p></section><article class="article markdown-body"><p><a target="_blank" rel="noopener noreferrer" 
  href="https://user-images.githubusercontent.com/25655581/61578375-829ed680-ab28-11e9-92b0-b8bde03d500a.png"><img  src="https://user-images.githubusercontent.com/25655581/61578375-829ed680-ab28-11e9-92b0-b8bde03d500a.png"
        alt="宅宅生活收藏夹"/></a></p>
<p>宅宅生活收藏夹是一款用来直接浏览知乎钓鱼贴图片的微信小程序，而且用户可以提供自己收藏的钓鱼贴，在每次例行数据更新后就会展示到首页。</p>
<p>这款小程序已经上线一个月了，感觉是时候复盘了（要不然就该想不起来了）。</p>
<!-- more -->
<h1 id="前言部分">前言部分</h1>
<p>大概总结了以下几个方面：</p>
<ul>
<li>想法诞生</li>
<li>学习制作微信小程序，查看文档</li>
<li>小程序性能优化</li>
<li>小程序审核</li>
<li>如何宣传小程序</li>
<li>考虑小程序在用户心中的地位，是否触及用户痛点</li>
<li>遇到的困难</li>
</ul>
<p>这几方面基本就是一个月来的实践和思考。</p>
<h1 id="想法诞生为什么做这个小程序">想法诞生（为什么做这个小程序）</h1>
<p>实话实说，这个想法在一年前就有了。但是当时并不打算做一个小程序，而是做一个 Web 页面。</p>
<p>为什么会有这个想法呢？在浏览知乎的时候，无意间看到了所谓的知乎钓鱼贴，因为知乎并没有提供直接看图的功能，只能不断点击查看下一回答，很烦。当然这肯定不是做这个项目的直接原因，因为当时首先想到的是 Google 呗，这种看图工具肯定已经有人做好了，拿来看就行了，实在不行抓一下对方的接口，自己写个工具，只要看图方便就行了。但是找来找去，发现大部分人都是收集标题而已，还是需要链接到知乎查看。还有一些虽然抓好数据了，也以图片的形式展示出来了，但是用了一段时间发现，作者早在去年就不维护了。总不能反复看一些不更新的图片吧。没办法，不满意的就自己做一个吧。</p>
<p>当时考虑是以网站还是小程序的形式呈现的时候，最终选择了小程序。</p>
<p>因为我大部分编码还是用 python 写这个项目，如果以网站的形式，那肯定就是 Flask 和 Django 二选一。而且查看后台数据是个问题，比如多少用户使用等等。但是使用小程序不同，我可以借这个项目学习学习如何制作小程序，而且在后台数据方面微信已经帮忙做好了。只要关联好小程序，就可以查看小程序的累计用户，每小时的访问量，每天新增用户等等数据。而且当时我单纯的认为小程序传播速度肯定比网站快得多，用户裂变嘛，一传十，十传百（后来发现用户裂变在我这里根本行不通，稍后解释）。</p>
<p>所以最终选择了使用微信小程序来实现这个项目。</p>
<h1 id="实现小程序的整体思路">实现小程序的整体思路</h1>
<p>因为项目从无到有，从没有数据到有数据展示到前端。这里用到了分而治之的思想，我们把小程序拆成每一小部分，只要实现了所有的小部分，也就实现了整个项目的大部分。</p>
<p>简单概括只有4步。</p>
<p><strong>爬虫 -&gt; 入库 -&gt; 提供接口 -&gt; 微信小程序展示</strong></p>
<h2 id="爬虫">爬虫</h2>
<p><a href="http://blog.lijianxun.top/2019/07/01/cjzcusohk001tx7jbcqxfqj9f/"target="_blank">使用 Python 抓取知乎美图</a>这篇介绍了爬虫部分。</p>
<h2 id="入库">入库</h2>
<p>数据库选择的是 mongo 数据库，以集合的形式保存数据，简单够用。不像 mysql 各种关联。我们只要创建一个答案集合，往里填数据就可以。</p>
<h2 id="接口">接口</h2>
<p>使用 Flask 提供接口，查库返回 JSON 格式的数据。</p>
<h2 id="展示">展示</h2>
<p>微信小程序请求接口，展示数据。</p>
<p>其实整个过程是很简单的，后端主要是数据库的增删改查，只要数据库方便好用，一切都很简单。</p>
<h1 id="学习制作微信小程序">学习制作微信小程序</h1>
<p>学习微信小程序主要是看文档，因为之前看过一些前端方面的知识，所以理解起来还是比较简单的。本人感觉写微信小程序就三个比较重要的内容，理解了以后就能实现小程序，但是想要写好还需要不断实践。</p>
<p>哪三个重要的内容呢（我认为的）：</p>
<ul>
<li>JavaScript</li>
<li>Page 里的 <code>data</code> 和 <code>this.setData</code></li>
<li>CSS</li>
</ul>
<p>写小程序基本和写 Web 差不多，但是大部分都是用 JS 实现小程序逻辑，数据的交互等，所以 JS 必须掌握，感觉大概会写就行。</p>
<p>由于看过 Vue 和 React 的文档，大概了解以下这种形式：</p>
<div class="highlight"><pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="c1">// index.js
</span><span class="c1"></span>
<span class="nx">Page</span><span class="p">(</span><span class="p">{</span>

    <span class="nx">data</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">msg</span><span class="o">:</span> <span class="s2">&#34;&#34;</span>
    <span class="p">}</span><span class="p">,</span>

    <span class="nx">clickMe</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">setData</span><span class="p">(</span><span class="p">{</span>
            <span class="nx">msg</span><span class="o">:</span> <span class="s2">&#34;Hello World&#34;</span>
        <span class="p">}</span><span class="p">)</span>
    <span class="p">}</span>

<span class="p">}</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="chroma"><code class="language-html" data-lang="html"><span class="c">&lt;!--</span><span class="c"> index.wxml </span><span class="c">--&gt;</span>

<span class="p">&lt;</span><span class="nt">view</span><span class="p"></span><span class="p">&gt;</span>{{ msg }}<span class="p">&lt;</span><span class="p">/</span><span class="nt">view</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">button</span> <span class="na">bindtap</span><span class="o">=</span><span class="s">&#34;clickMe&#34;</span><span class="p"></span><span class="p">&gt;</span>点击我<span class="p">&lt;</span><span class="p">/</span><span class="nt">button</span><span class="p">&gt;</span>
</code></pre></div><p>JS 传数据，wxml 渲染。熟练使用就行了，感觉没啥好说的。</p>
<p>CSS 才是写小程序的痛啊，虽然之前写过 Web，但是用的最多的还是模板和 bootstrap，只写过一些简单的 CSS。在写小程序的时候，比如涉及到按钮或者搜索框的位置，浮动，置顶之类的，学习了好久，网上很多资料实际都没用，可能还是哪里有问题。所以感觉写小程序最难的还是 CSS 这块，虽然有框架可以用，但是在自定义样式很难做到随心所欲，基本就是框架有这个组件或者样式，拿来用，没有的自己也不会写。所以小程序的很多 UI 还在不断优化。在之前的版本有很多因为 CSS 不严谨产生的问题，多一根虚线，图片靠左，或者错位等等。还好基本已经修复了。</p>
<h2 id="小程序用到的组件库">小程序用到的组件库</h2>
<p>推荐使用（排序分先后）：</p>
<ul>
<li><a href="https://www.color-ui.com/"target="_blank">Color UI</a></li>
<li><a href="http://doc.mini.7yue.pro/"target="_blank">Lin UI</a></li>
<li><a href="https://youzan.github.io/vant-weapp/#/intro"target="_blank">Vant Weapp</a></li>
</ul>
<h2 id="推荐网站">推荐网站</h2>
<ul>
<li><a href="https://loading.io/"target="_blank">loading.io</a>  各式各样的加载动画，有收费的有免费的。</li>
</ul>
<h1 id="小程序性能优化">小程序性能优化</h1>
<p>看似高端的标题，其实就是代码的不规范。改规范了以后，就叫做性能优化了，虽然我在使用过程中没感觉提升了多少。</p>
<p>为什么说是代码不规范呢，当时图方便把好多变量都放到了 <code>data</code> 里，这么写是不对的。<code>data</code> 里应该存放会渲染到页面的变量，其他都不应该被放进去。</p>
<p>具体见<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/performance/tips.html"target="_blank">小程序官方文档——优化建议</a>。</p>
<h1 id="小程序审核">小程序审核</h1>
<p>小程序审核我认为是一种玄学。</p>
<p>有人认为是机器审核，有人认为是人工审核。</p>
<p>但是从我多次审核失败的经验来看，应该是人工审核无疑了。</p>
<p>不知不觉已更新迭代十多个版本，有的只是修复小 bug，有的是更新功能。多次审核后总结出审核规律，仅供参考：</p>
<ol>
<li>小程序在周末仍会被审核。因为一周七天我都提交过审核，都有回复。</li>
<li>一般超过下午三点的提交，都会在次日上午十点以后回复。当然也有特殊情况，有一次我晚上七点半提交审核，半小时后收到了回复。</li>
<li>尽量一天只提交一次，提交第二次不论时间，可能都会拖到第二天审核。当然也有特殊情况，有一次在同一天回复了两次。</li>
</ol>
<p>所以说审核是门玄学，运气好了一天可以审核多次，运气不好只能拖到第二天，越心急越等不到结果。</p>
<h1 id="宣传小程序">宣传小程序</h1>
<p>这个完全没有什么心得啊。在各大社区里，只要宣传小程序，删帖是必须的。以至于后来发个正常的贴子也会被删。</p>
<p>即刻有个热门钓鱼贴专栏，已经凉了。</p>
<p>我想着可以在这里宣传一波，但是发帖以后都没人点赞，很奇怪啊，然后就把这个贴子分享给朋友，打开之后是404，找不到页面。</p>
<p>即刻真会玩啊。单机版即刻，用户想发什么无所谓，其他用户根本看不到，不分享到浏览器打开还以为是自己的贴子没人看呢。学到了学到了。</p>
<p>放弃即刻。</p>
<p>虎扑步行街有个晒晒图片，感觉和知乎钓鱼贴差不多。</p>
<p>想着宣传一波。刚发出去就被删帖，后来想着不做宣传，只是放一些和小程序没有任何关系的图片，也被删帖。</p>
<p>放弃虎扑步行街。</p>
<p>现在唯一能宣传的也只有知乎了，在热门的钓鱼贴下回答，让更多想看钓鱼贴的人看见。</p>
<p>做这个小程序就是为了看钓鱼贴方便一点，希望帮助更多需要的朋友，能方便一点是一点。</p>
<h1 id="小程序是否触及了用户的痛点">小程序是否触及了用户的痛点</h1>
<p>这个问题是我最近一直思考的问题。</p>
<p>因为一个月了，小程序的用户不是很多。虽然知乎里有点赞的，有评论的。但是没有我开始想象的那么简单。上边提到了用户裂变，一传十，十传百。我单纯的认为这个小程序会引起知乎看图用户的共鸣，然后转发给朋友，用户量蹭蹭就上来了。</p>
<p>但是真正静下来思考一下，这个小程序的定位到底是什么，解决了什么问题？</p>
<p>我对小程序的定位是一个方便浏览知乎钓鱼贴的工具，同时可以添加钓鱼贴，支持搜索和收藏。</p>
<p>用户爱好的钓鱼贴不一样，搜索功能可以直达用户的喜好。</p>
<p>用户看到喜欢的贴子不一定需要把所有的图片都保存到本地，使用收藏功能可以随时随地查看。</p>
<p>为什么我要提供一个用户添加钓鱼贴的接口呢？之前说到，很多人已经写过类似的看图工具，但是都不更新了，为什么，因为作者没有精力。我担心这个小程序和他们的作品有同样的命运，所以我增加了用户可以提供钓鱼贴的接口，这样就算之后我不维护，不更新钓鱼贴了，依靠大家的力量，只要服务器还在，代码没问题，数据还是可以更新的。但是事实上不是这样的，这一个月来几乎没有人主动提供钓鱼贴。</p>
<p>最后和女朋友讨论后想通了，可能大家就把这个小程序当成一个看图娱乐工具，看完就完事了，没有想过可以丰富这个小程序。得出这个结论的原因是也没有用户和我反馈哪里有 bug，或者可以加什么功能，什么需要改善。其实我也是这样的用户，之前在用一款天气小程序，因为加载慢就删除了。</p>
<p>完全取决于用户的心情。</p>
<p>为了能增加用户量，在小程序的体验版增加了分享功能，如果不分享给朋友只能查看前10个贴子。但是考虑再三还是删除了，觉得对用户不公平，但是这一个月下来我也没有什么精力和动力维护它了，小程序的功能基本固定，剩下的就是更新数据，基本都是手动更新钓鱼贴 ID，因为爬虫大范围抓取不能很好把控贴子的质量。有可能抓到真正的钓鱼的贴子。</p>
<p>这个问题还在思考中，想不通。</p>
<h1 id="遇到的困难">遇到的困难</h1>
<p>编码过程中遇到的困难基本 Google 或者查文档就能解决，真正难解决的还是后期宣传的问题。</p>
<p>整体来说，困难最大的还是无法准确将宅宅生活收藏夹这个小程序传递给真正的用户群体。</p>
<p>即刻知乎热门钓鱼贴专栏三十多万的关注量，知乎随便一个新冒出头的钓鱼贴两天就有近十万的浏览量。</p>
<p>可见用户还是非常多非常多的，但为什么宅宅生活收藏夹的用户却那么少？</p>
<p>是小程序不够优质？功能不完善？还是很多人不知道有这个工具的存在？我想后者居多吧。</p>
<h1 id="最后">最后</h1>
<p>作为一个搞爬虫和 Web 的码农，思想局限在使用爬虫抓取数据然后展示到页面上。觉得这一块必须突破，要不然做的项目都会受制于接口。接口可以用就有数据，接口调用失败数据就空白。如何让用户成为数据的来源才是现在需要思考的问题。</p>
<p>最后想想还是佛系一点吧。这个小程序能帮助到一部分人就帮助到一部分人吧。</p>
<p>不想看钓鱼贴的朋友就算打开了小程序也不会持续关注。</p>
<p>真正想看钓鱼贴的朋友不知道这个小程序只能说是遗憾吧。</p>
</article><section class="article labels"><a class="article category" href=/categories/%E5%AE%85%E5%AE%85%E7%94%9F%E6%B4%BB%E6%94%B6%E8%97%8F%E5%A4%B9/><span class="hashtag">
        <i class="fas fa-align-left"></i>
    </span>宅宅生活收藏夹</a><a class="article tag" href=/tags/%E6%80%BB%E7%BB%93/><span class="hashtag">
        <i class="fas fa-tag"></i>
    </span>总结</a>
</section><section class="article navigation"><p><a class="link" href="/2019/08/29/celery-%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%AE%B0/"><span class="li"></span>Celery 使用小记</a></p><p><a class="link" href="/2019/07/07/docker-%E9%95%9C%E5%83%8F%E4%B8%8B%E8%BD%BD%E6%85%A2%E6%80%8E%E4%B9%88%E5%8A%9E/"><span class="li"></span>Docker 镜像下载慢怎么办</a class="link">
        </p></section><section class="article discussion"><div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "alpha87" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a></section></div><section id="footer" class="footer max-body-width"><div class="footer-wrap">
  <script>
    var now = new Date();
    function createtime() {
      var grt = new Date("11/16/2016 00:00:00");
      now.setTime(now.getTime() + 250);
      days = (now - grt) / 1000 / 60 / 60 / 24;
      dnum = Math.floor(days);
      hours = (now - grt) / 1000 / 60 / 60 - 24 * dnum;
      hnum = Math.floor(hours);
      if (String(hnum).length == 1) {
        hnum = "0" + hnum;
      }
      minutes = (now - grt) / 1000 / 60 - 24 * 60 * dnum - 60 * hnum;
      mnum = Math.floor(minutes);
      if (String(mnum).length == 1) {
        mnum = "0" + mnum;
      }
      seconds =
        (now - grt) / 1000 - 24 * 60 * 60 * dnum - 60 * 60 * hnum - 60 * mnum;
      snum = Math.round(seconds);
      if (String(snum).length == 1) {
        snum = "0" + snum;
      }
      document.getElementById("timeDate").innerHTML =
        "本站已运行 " + dnum + " 天 ";
      document.getElementById("times").innerHTML =
        hnum + " 小时 " + mnum + " 分 " + snum + " 秒";
    }
    setInterval("createtime()", 250);
  </script>
  <p class="copyright" style="font-family: Verdana, sans-serif;">
    <i class="far fa-copyright"></i>2016-2020 Jianxun. | 岁月无婷无华✨</p>
  
  <p><span id="timeDate">正在载入天数...</span><span id="times">载入时分秒...</span></p>
  <span style="font-family: Verdana, sans-serif;">
    <a style="color: #999;" href="http://www.beian.miit.gov.cn/">京ICP备19005249号</a> |
    <a style="color: #999;" href="https://creativecommons.org/licenses/by-nc-nd/3.0/">
      <i style="color: cyan;" class="fab fa-creative-commons"></i> BY-NC-ND 3.0</a> | 
    <a href="https://lijianxun.top/post/index.xml">
      订阅 <i class="fas fa-rss"></i></a>
  </p>
</div>
</section><script src="/js/hljs.min.0799348a91dce12c6be4a73f943cfe78f181f4e6f6ec35c4af0fca1de377879f77cfab03c30f03a174d675737b5a9314.js" integrity="sha384-B5k0ipHc4Sxr5Kc/lDz&#43;ePGB9Ob27DXErw/KHeN3h593z6sDww8DoXTWdXN7WpMU"></script><script async>hljs.initHighlightingOnLoad();</script></div>
</body>

</html>