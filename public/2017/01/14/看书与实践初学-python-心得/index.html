<!DOCTYPE html>
<html lang="en"><meta charset="utf-8"><meta name="generator" content="Hugo 0.62.2" /><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
<meta name="color-scheme" content="light dark">
<meta name="supported-color-schemes" content="light dark">
<script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? "https://" : "http://");document.write(unescape("%3Cspan style='display:none;' id='cnzz_stat_icon_1278593076'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s4.cnzz.com/z_stat.php%3Fid%3D1278593076%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));</script>

<script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.11"></script>

<script async src="https://kit.fontawesome.com/8cc90f575c.js" crossorigin="anonymous"></script>
<script async>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script><title>看书与实践|初学 Python 心得&nbsp;&ndash;&nbsp;简讯</title><link rel="stylesheet" href="/css/core.min.b82f914f060e48379e318a4f75e484281a018ae6a0b8b7f97cd5329512117eecf7e51b8c996b8dfb27cf023da8a2e4c8.css" integrity="sha384-uC&#43;RTwYOSDeeMYpPdeSEKBoBiuaguLf5fNUylRIRfuz35RuMmWuN&#43;yfPAj2oouTI"><body>
    <div class="base-body"><section id="header" class="site header max-body-width">
    <div class="header wrap"><span class="header left-side"><a class="site home" href="/"><span class="site name" style="font-size: 24px;">简讯</span></a></span>
        <span class="header right-side"><div class="nav wrap">
    <nav class="nav"><a class="nav item" href="/categories/">
            <i class="fas fa-align-left"></i>&nbsp;分类
        </a><a class="nav item" href="/tags/">
            <i class="fas fa-tags"></i>&nbsp;标签
        </a><a class="nav item" href="/projects">
            
            
            <i class="fas fa-cubes"></i>&nbsp;个人项目</a><a class="nav item" href="/about">
            
            
            <i class="fas fa-feather-alt"></i>&nbsp;关于</a></nav>
</div></span></div>
        <div class="site slogan"><span class="title"></span></div></section>

<script>
    
    var typed = new Typed('.title', {
      strings: ["唯书与爱，不可辜负", "岁月无婷无华"],
      smartBackspace: true,
      typeSpeed: 95,
      backSpeed: 35
    });
</script><div id="content" class="max-body-width"><section class="article header">
    <h1 class="article title">看书与实践|初学 Python 心得</h1><p class="article date">Saturday, January 14, 2017<span class="reading-time"> • 5 minutes to read</span></p></section><article class="article markdown-body"><p>这段时间买了一些有关 Python 的书，每天一边看，一边写一些爬虫的代码，导致博文一直没有跟上进度，没有及时记录自己的学习状况。</p>
<!-- more -->
<p>从学习 Python 的第一天起，到现在也已经学习了将近5本 Python 的书籍了。两本电子书，三本纸质书。分别是《笨办法学 Python 》、<a href="https://bop.molun.net/"target="_blank">《简明 Python 教程》</a>；《零基础学 Python 》、《 Python 语言及其应用》、《 Python 学习手册》。还有一本《 Python 核心编程（第二版）》没有开始看。这些书可是一本比一本厚。这些书是从这里看到的：<a href="https://zhuanlan.zhihu.com/p/21566058"target="_blank">黄哥推荐学习 Python 10本好书。</a>为了扎实基础，不断反复学习 Python 的语法，数据结构等知识，我觉得反复学习基础知识并不是一种浪费时间的行为，扎实的基础在学习更深奥的知识时才能快速理解。</p>
<p>在看书的过程中，发现 Python 不仅是一门强大的语言，更是一个需要不断探索的巨大宝库，内容无穷无尽。每学习一段时间就感叹 Python 的强大和巨大。每一本 Python 书都有无穷的知识需要被挖掘，光读纸质书是远远不够的，在看书的过程中，作者都会推荐在使用 Python 库的时候先阅读库相关的文档。现在我主要学习爬虫，看的是<a href="http://beautifulsoup.readthedocs.io/zh_CN/latest/"target="_blank">BeautifulSoup</a>和<a href="http://cn.python-requests.org/zh_CN/latest/"target="_blank">Requests</a>库的官方文档。还好有中文版的，虽然现在的浏览器都有翻译功能，翻译的质量也不低，但是机器就是机器，翻译的时候会把代码一并翻译，看着很痛苦啊。现在看书的时候虽然没有及时更新博文，但是在学习的过程中遇到问题我会记录下来，等看完书再查资料解决，这种方法也有助于巩固知识，而且我现在手边 Python 的书也有几本了，有一些内容可以几本书同时比较学习，感觉很不错。</p>
<p>接下来就是练习写代码了。写代码一开始是一个很花费时间的事情，因为你得考虑写代码的思路，解决遇到各种各样的有趣的问题。我的第一个爬虫代码虽然只有30行左右，但是花费了我将近两个晚上一个白天的时间，结果还是好的，达到了我的预期效果。不过有一些细节还是需要注意的。在写代码的过程中，我发现有很多问题需要注意，如果你和我一样同样是新手，就当我给你提醒了。</p>
<p>写代码之前最重要的是要考虑清楚，这段代码写完以后，需要完成一个怎样的任务，然后把任务细分化。比如说我的第一个代码是批量下载图片，这也是爬虫新手经常练习的代码。思路要清晰：</p>
<ol>
<li>解析网站，利用浏览器的开发者模式查看网页代码</li>
<li>分析图片<code>URL</code>所在的标签</li>
<li>把<code>URL</code>对应的图片保存到本地</li>
</ol>
<p>这就是我爬取图片的思路。然后解决每个问题。</p>
<p>首先要解决的是分析网站的<code>URL</code>：</p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">urllib.request</span> <span class="kn">import</span> <span class="n">urlopen</span>
</code></pre></div><p>也可以配合使用<code>BeautifulSoup</code>，不过不是必须的：</p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>
</code></pre></div><p>导入这两个库以后就可以开始写代码了。因为一会儿还要使用正则表达式匹配，所以再导入<code>re</code>库</p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">re</span>
</code></pre></div><p>我们完成这个任务要分三大部分，第一步是解析网页，第二步利用正则找出我们要的内容，第三步就是保存到本地。</p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="k">def</span> <span class="nf">get_html</span><span class="p">(</span><span class="p">)</span><span class="p">:</span>
    <span class="n">url</span> <span class="o">=</span> <span class="sa"></span><span class="s2">&#34;</span><span class="s2">https://movie.douban.com/chart</span><span class="s2">&#34;</span>
    <span class="n">douban</span> <span class="o">=</span> <span class="n">urlopen</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
    <span class="n">html</span> <span class="o">=</span> <span class="n">douban</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="p">)</span>
    <span class="n">html</span> <span class="o">=</span> <span class="n">html</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="sa"></span><span class="s2">&#34;</span><span class="s2">utf-8</span><span class="s2">&#34;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">html</span>
</code></pre></div><p>这段代码就是分析豆瓣电影的<code>URL</code>，运行以后控制台输出了网页的源代码。这就是第一步。</p>
<p>第二步我们需要找到图片的相关代码：</p>
<p>![豆瓣图片代码](https://img-
blog.csdn.net/20170114172122476?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvQV9sUGhh/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)</p>
<div class="highlight"><pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">img</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;https://img3.doubanio.com/view/movie_poster_cover/ipst/public/p2393044761.jpg&#34;</span> <span class="na">alt</span><span class="o">=</span><span class="s">&#34;驴得水&#34;</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;&#34;</span><span class="p">/</span><span class="p">&gt;</span>
</code></pre></div><p>这段是我们在写正则表达式要用到的。</p>
<p>第二步，定义函数，用正则表达式筛选出图片对应的<code>URL</code>和电影名称。</p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="n">html</span><span class="p">)</span><span class="p">:</span>
    <span class="n">reg</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;</span><span class="s1">&lt;img src=</span><span class="s1">&#34;</span><span class="s1">(.*?)</span><span class="s1">&#34;</span><span class="s1"> alt=</span><span class="s1">&#34;</span><span class="s1">(.*?)</span><span class="s1">&#34;</span><span class="s1"> class=</span><span class="s1">&#34;</span><span class="s1">&#34;</span><span class="s1">/&gt;</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">item</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">reg</span><span class="p">,</span> <span class="n">html</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">item</span>
</code></pre></div><p>这两步完整的代码是：</p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">urllib.request</span> <span class="kn">import</span> <span class="n">urlopen</span>
<span class="kn">import</span> <span class="nn">re</span>

<span class="k">def</span> <span class="nf">get_html</span><span class="p">(</span><span class="p">)</span><span class="p">:</span>
    <span class="n">url</span> <span class="o">=</span> <span class="sa"></span><span class="s2">&#34;</span><span class="s2">https://movie.douban.com/chart</span><span class="s2">&#34;</span>
    <span class="n">douban</span> <span class="o">=</span> <span class="n">urlopen</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
    <span class="n">html</span> <span class="o">=</span> <span class="n">douban</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="p">)</span>
    <span class="n">html</span> <span class="o">=</span> <span class="n">html</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="sa"></span><span class="s2">&#34;</span><span class="s2">utf-8</span><span class="s2">&#34;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">html</span>

<span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="n">html</span><span class="p">)</span><span class="p">:</span>
    <span class="n">reg</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;</span><span class="s1">&lt;img src=</span><span class="s1">&#34;</span><span class="s1">(.*?)</span><span class="s1">&#34;</span><span class="s1"> alt=</span><span class="s1">&#34;</span><span class="s1">(.*?)</span><span class="s1">&#34;</span><span class="s1"> class=</span><span class="s1">&#34;</span><span class="s1">&#34;</span><span class="s1">/&gt;</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">item</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">reg</span><span class="p">,</span> <span class="n">html</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">item</span>

<span class="n">a</span> <span class="o">=</span> <span class="n">get_html</span><span class="p">(</span><span class="p">)</span>
<span class="n">get</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</code></pre></div><p>运行结果：</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="o">[</span><span class="o">(</span><span class="s1">&#39;https://img3.doubanio.com/view/movie_poster_cover/ipst/public/p2393044761.jpg&#39;</span>, <span class="s1">&#39;驴得水&#39;</span><span class="o">)</span>, <span class="o">(</span><span class="s1">&#39;https://img3.doubanio.com/view/movie_poster_cover/ipst/public/p2391556881.jpg&#39;</span>, <span class="s1">&#39;夜行动物&#39;</span><span class="o">)</span>, <span class="o">(</span><span class="s1">&#39;https://img3.doubanio.com/view/movie_poster_cover/ipst/public/p2402824160.jpg&#39;</span>, <span class="s1">&#39;28岁未成年&#39;</span><span class="o">)</span>, <span class="o">(</span><span class="s1">&#39;https://img3.doubanio.com/view/movie_poster_cover/ipst/public/p2407543903.jpg&#39;</span>, <span class="s1">&#39;无名女尸&#39;</span><span class="o">)</span>, <span class="o">(</span><span class="s1">&#39;https://img3.doubanio.com/view/movie_poster_cover/ipst/public/p2403319543.jpg&#39;</span>, <span class="s1">&#39;萨利机长&#39;</span><span class="o">)</span>, <span class="o">(</span><span class="s1">&#39;https://img3.doubanio.com/view/movie_poster_cover/ipst/public/p2370911211.jpg&#39;</span>, <span class="s1">&#39;中邪&#39;</span><span class="o">)</span>, <span class="o">(</span><span class="s1">&#39;https://img5.doubanio.com/view/movie_poster_cover/ipst/public/p2380677316.jpg&#39;</span>, <span class="s1">&#39;湄公河行动&#39;</span><span class="o">)</span>, <span class="o">(</span><span class="s1">&#39;https://img3.doubanio.com/view/movie_poster_cover/ipst/public/p2326264650.jpg&#39;</span>, <span class="s1">&#39;总有一天&#39;</span><span class="o">)</span>, <span class="o">(</span><span class="s1">&#39;https://img3.doubanio.com/view/movie_poster_cover/ipst/public/p2409793660.jpg&#39;</span>, <span class="s1">&#39;大叔的爱&#39;</span><span class="o">)</span>, <span class="o">(</span><span class="s1">&#39;https://img3.doubanio.com/view/movie_poster_cover/ipst/public/p2355993802.jpg&#39;</span>, <span class="s1">&#39;会计刺客&#39;</span><span class="o">)</span><span class="o">]</span>
</code></pre></div><p>这样就做到了图片地址和对应电影名称的筛选工作，注意这是一个列表。因为现在的能力有限，如果想要下载到本地还得创建一个新函数。</p>
<p>第三步，用<code>re</code>重新分析图片地址并下载图片：</p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="k">def</span> <span class="nf">download</span><span class="p">(</span><span class="n">html</span><span class="p">)</span><span class="p">:</span>
    <span class="n">reg</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;</span><span class="s1">&lt;img src=</span><span class="s1">&#34;</span><span class="s1">(.*?)</span><span class="s1">&#34;</span><span class="s1"> alt=</span><span class="s1">&#34;</span><span class="s1">.*?</span><span class="s1">&#34;</span><span class="s1"> class=</span><span class="s1">&#34;</span><span class="s1">&#34;</span><span class="s1">/&gt;</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">item</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">reg</span><span class="p">,</span> <span class="n">html</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>

    <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">photo_html</span> <span class="ow">in</span> <span class="n">item</span><span class="p">:</span>
        <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="o">+</span> <span class="sa"></span><span class="s2">&#34;</span><span class="s2">.jpg</span><span class="s2">&#34;</span><span class="p">,</span> <span class="sa"></span><span class="s2">&#34;</span><span class="s2">wb</span><span class="s2">&#34;</span><span class="p">)</span>
        <span class="n">req</span> <span class="o">=</span> <span class="n">urlopen</span><span class="p">(</span><span class="n">photo_html</span><span class="p">)</span>
        <span class="n">buf</span> <span class="o">=</span> <span class="n">req</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="p">)</span>
        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">buf</span><span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="sa"></span><span class="s2">&#34;</span><span class="s2">正在下载中...</span><span class="s2">&#34;</span><span class="p">)</span>
        <span class="n">i</span> <span class="o">+</span><span class="o">=</span> <span class="mi">1</span>
        <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">(</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="sa"></span><span class="s2">&#34;</span><span class="s2">下载完成</span><span class="s2">&#34;</span><span class="p">)</span>
</code></pre></div><p>这段代码完成了图片的保存。正则表达式的工作是把图片的<code>URL</code>储存在列表里，<code>for</code>循环下载依次下载列表里的每一个文件，记得关闭文件。所以从豆瓣电影下载完整的电影海报的完整代码是：</p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">urllib.request</span> <span class="kn">import</span> <span class="n">urlopen</span>
<span class="kn">import</span> <span class="nn">re</span>

<span class="k">def</span> <span class="nf">get_html</span><span class="p">(</span><span class="p">)</span><span class="p">:</span>
    <span class="n">url</span> <span class="o">=</span> <span class="sa"></span><span class="s2">&#34;</span><span class="s2">https://movie.douban.com/chart</span><span class="s2">&#34;</span>
    <span class="n">douban</span> <span class="o">=</span> <span class="n">urlopen</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
    <span class="n">html</span> <span class="o">=</span> <span class="n">douban</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="p">)</span>
    <span class="n">html</span> <span class="o">=</span> <span class="n">html</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="sa"></span><span class="s2">&#34;</span><span class="s2">utf-8</span><span class="s2">&#34;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">html</span>

<span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="n">html</span><span class="p">)</span><span class="p">:</span>
    <span class="n">reg</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;</span><span class="s1">&lt;img src=</span><span class="s1">&#34;</span><span class="s1">(.*?)</span><span class="s1">&#34;</span><span class="s1"> alt=</span><span class="s1">&#34;</span><span class="s1">(.*?)</span><span class="s1">&#34;</span><span class="s1"> class=</span><span class="s1">&#34;</span><span class="s1">&#34;</span><span class="s1">/&gt;</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">item</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">reg</span><span class="p">,</span> <span class="n">html</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">item</span>

<span class="k">def</span> <span class="nf">download</span><span class="p">(</span><span class="n">html</span><span class="p">)</span><span class="p">:</span>
    <span class="n">reg</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;</span><span class="s1">&lt;img src=</span><span class="s1">&#34;</span><span class="s1">(.*?)</span><span class="s1">&#34;</span><span class="s1"> alt=</span><span class="s1">&#34;</span><span class="s1">.*?</span><span class="s1">&#34;</span><span class="s1"> class=</span><span class="s1">&#34;</span><span class="s1">&#34;</span><span class="s1">/&gt;</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">item</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">reg</span><span class="p">,</span> <span class="n">html</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>

    <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">photo_html</span> <span class="ow">in</span> <span class="n">item</span><span class="p">:</span>
        <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="o">+</span> <span class="sa"></span><span class="s2">&#34;</span><span class="s2">.jpg</span><span class="s2">&#34;</span><span class="p">,</span> <span class="sa"></span><span class="s2">&#34;</span><span class="s2">wb</span><span class="s2">&#34;</span><span class="p">)</span>
        <span class="n">req</span> <span class="o">=</span> <span class="n">urlopen</span><span class="p">(</span><span class="n">photo_html</span><span class="p">)</span>
        <span class="n">buf</span> <span class="o">=</span> <span class="n">req</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="p">)</span>
        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">buf</span><span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="sa"></span><span class="s2">&#34;</span><span class="s2">正在下载中...</span><span class="s2">&#34;</span><span class="p">)</span>
        <span class="n">i</span> <span class="o">+</span><span class="o">=</span> <span class="mi">1</span>
        <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">(</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="sa"></span><span class="s2">&#34;</span><span class="s2">下载完成</span><span class="s2">&#34;</span><span class="p">)</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">get_html</span><span class="p">(</span><span class="p">)</span>
<span class="n">get</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="n">download</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</code></pre></div><p>这是我爬虫的思路，代码很新手，也很好理解。我认为这段代码有很多可以改进的地方：正则表达式的运用，下载图片的代码都需要改进。</p>
<p>这是我第一个爬虫代码，后来我还写了爬取简书30日排行榜，豆瓣电影排行榜等代码，因为正则表达式的问题，还不能正确匹配到信息。正则表达式还是一个需要马上攻克的难题啊，匹配不正确就不能爬到信息。</p>
<p>路还很长很长。</p>
<h1 id="路还很长很长">路还很长很长。</h1>
<p>更新：完成了正则匹配工作，成功爬到了简书30日排行文章的一部分。现在需要做的是解析网页获取未加载的内容。</p>
</article><section class="article labels"><a class="article category" href=/categories/%E9%9B%B6%E5%9F%BA%E7%A1%80%E5%AD%A6python/><span class="hashtag">
        <i class="fas fa-align-left"></i>
    </span>零基础学Python</a><a class="article tag" href=/tags/%E5%AD%A6%E4%B9%A0/><span class="hashtag">
        <i class="fas fa-tag"></i>
    </span>学习</a><a class="article tag" href=/tags/%E7%BC%96%E7%A8%8B/><span class="hashtag">
        <i class="fas fa-tag"></i>
    </span>编程</a>
</section><section class="article navigation"><p><a class="link" href="/2017/01/19/beautifulsoup4-%E6%96%87%E6%A1%A3%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/"><span class="li"></span>BeautifulSoup4 文档学习记录</a></p><p><a class="link" href="/2016/12/09/%E5%88%A9%E7%94%A8python%E5%8F%91%E9%82%AE%E4%BB%B6/"><span class="li"></span>利用Python发邮件</a class="link">
        </p></section><section class="article discussion"><div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "alpha87" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a></section></div><section id="footer" class="footer max-body-width"><div class="footer-wrap">
  <script>
    var now = new Date();
    function createtime() {
      var grt = new Date("11/16/2016 00:00:00");
      now.setTime(now.getTime() + 250);
      days = (now - grt) / 1000 / 60 / 60 / 24;
      dnum = Math.floor(days);
      hours = (now - grt) / 1000 / 60 / 60 - 24 * dnum;
      hnum = Math.floor(hours);
      if (String(hnum).length == 1) {
        hnum = "0" + hnum;
      }
      minutes = (now - grt) / 1000 / 60 - 24 * 60 * dnum - 60 * hnum;
      mnum = Math.floor(minutes);
      if (String(mnum).length == 1) {
        mnum = "0" + mnum;
      }
      seconds =
        (now - grt) / 1000 - 24 * 60 * 60 * dnum - 60 * 60 * hnum - 60 * mnum;
      snum = Math.round(seconds);
      if (String(snum).length == 1) {
        snum = "0" + snum;
      }
      document.getElementById("timeDate").innerHTML =
        "本站已运行 " + dnum + " 天 ";
      document.getElementById("times").innerHTML =
        hnum + " 小时 " + mnum + " 分 " + snum + " 秒";
    }
    setInterval("createtime()", 250);
  </script>
  <p class="copyright" style="font-family: Verdana, sans-serif;">
    <i class="far fa-copyright"></i>2016-2020 Jianxun. | 岁月无婷无华✨</p>
  
  <p><span id="timeDate">正在载入天数...</span><span id="times">载入时分秒...</span></p>
  <span style="font-family: Verdana, sans-serif;">
    <a style="color: #999;" href="http://www.beian.miit.gov.cn/">京ICP备19005249号</a> |
    <a style="color: #999;" href="https://creativecommons.org/licenses/by-nc-nd/3.0/">
      <i style="color: cyan;" class="fab fa-creative-commons"></i> BY-NC-ND 3.0</a> | 
    <a href="https://lijianxun.top/post/index.xml">
      订阅 <i class="fas fa-rss"></i></a>
  </p>
</div>
</section><script src="/js/hljs.min.0799348a91dce12c6be4a73f943cfe78f181f4e6f6ec35c4af0fca1de377879f77cfab03c30f03a174d675737b5a9314.js" integrity="sha384-B5k0ipHc4Sxr5Kc/lDz&#43;ePGB9Ob27DXErw/KHeN3h593z6sDww8DoXTWdXN7WpMU"></script><script async>hljs.initHighlightingOnLoad();</script></div>
</body>

</html>